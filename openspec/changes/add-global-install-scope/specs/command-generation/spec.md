## 修改的需求

### 需求：ToolCommandAdapter 接口
系统应提供安装上下文感知的命令路径解析。

#### 场景：适配器接口结构
- **当** 实现工具适配器时
- **则** 命令文件路径解析应接收安装上下文（包括有效范围和环境上下文）
- **且** 应返回该上下文的有效命令输出路径

#### 场景：Codex 全局路径仍受支持
- **当** 在全局范围解析 Codex 命令路径时
- **则** 适配器在设置 `CODEX_HOME` 时应目标 `$CODEX_HOME/prompts`
- **且** 否则应目标 `~/.codex/prompts`

### 需求：命令生成器函数
命令生成器应将安装上下文传递到所有生成命令的适配器路径解析。

#### 场景：范围命令生成
- **当** 为具有解析有效范围的工具生成命令时
- **则** 生成的命令路径应匹配该有效范围
- **且** 格式化的命令主体/前置元数据行为应保持工具特定且不变
